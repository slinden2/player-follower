(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,t,a){e.exports=a(350)},350:function(e,t,a){"use strict";a.r(t);var n=a(109),r=a(0),l=a.n(r),o=a(59),c=a.n(o),s=a(102),i=a(49),u=a(69),m=a(50),p=a(198),d=a(33),f=a(53),h=a(361),E=a(372),b=a(20),v=function(e,t){var a=Object(r.useState)(""),n=Object(b.a)(a,2),l=n[0],o=n[1];return[{type:t,name:e,value:l,onChange:function(e){o(e.target.value)}},function(){o("")}]},y=Object(r.createContext)(),g=function(e){var t=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(null),o=Object(b.a)(l,2),c=o[0],s=o[1];return[a,function(e,t){clearTimeout(c),n({type:e,message:t});var a=setTimeout(function(){n(null),s(null)},5e3);s(a)}]}(),a=Object(b.a)(t,2),n=a[0],o=a[1];return l.a.createElement(y.Provider,{value:{notification:n,setNotification:o,handleException:function(e){o("negative","".concat(e.message))}}},e.children)},O=a(19),w=a.n(O),P=a(21),x=a(369),j=function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()},S=a(24),T=a(25);function k(){var e=Object(S.a)(["\n  query getStandings {\n    Standings {\n      teamName\n      gamesPlayed\n      wins\n      losses\n      ties\n      otLosses\n      points\n      regPlusOtWins\n      pointPct\n      goalsFor\n      goalsAgainst\n      shootoutGamesWon\n      goalsForPerGame\n      goalsAgainstPerGame\n      ppPct\n      pkPct\n      shotsForPerGame\n      shotsAgainstPerGame\n      faceOffWinPct\n      conference {\n        name\n      }\n      division {\n        name\n      }\n    }\n  }\n"]);return k=function(){return e},e}function C(){var e=Object(S.a)(["\n  query GetCumulativeStats(\n    $offset: Int!\n    $sortBy: SortBy!\n    $sortDir: SortDir!\n  ) {\n    GetCumulativeStats(offset: $offset, sortBy: $sortBy, sortDir: $sortDir) {\n      fullName\n      team\n      position\n      gamesPlayed\n      goals\n      assists\n      points\n      plusMinus\n      penaltyMinutes\n      pointsPerGame\n      gameWinningGoals\n      overTimeGoals\n      powerPlayGoals\n      powerPlayPoints\n      shortHandedGoals\n      shortHandedPoints\n      shots\n    }\n  }\n"]);return C=function(){return e},e}function G(){var e=Object(S.a)(["\n  query findByName($searchString: String!) {\n    findByName(searchString: $searchString) {\n      fullName\n      nationality\n      primaryNumber\n      id\n      playerId\n    }\n  }\n"]);return G=function(){return e},e}function N(){var e=Object(S.a)(["\n  query loggedUser {\n    me {\n      username\n      email\n      favoritePlayers\n    }\n  }\n"]);return N=function(){return e},e}function I(){var e=Object(S.a)(["\n  query getPlayerProfile($siteLink: String!) {\n    findPlayer(siteLink: $siteLink) {\n      id\n      fullName\n      primaryNumber\n      birthDate\n      birthCity\n      birthStateProvince\n      nationality\n      height\n      weight\n      alternateCaptain\n      captain\n      rookie\n      shootsCatches\n      currentTeam {\n        name\n        abbreviation\n        locationName\n      }\n      primaryPosition\n      playerId\n      boxscores {\n        id\n        assists\n        blocked\n        faceOffsTaken\n        faceOffWins\n        gameDate\n        gamePk\n        giveaways\n        goals\n        hits\n        penaltyMinutes\n        plusMinus\n        points\n        powerPlayAssists\n        powerPlayGoals\n        powerPlayTimeOnIce\n        shortHandedAssists\n        shortHandedGoals\n        shortHandedTimeOnIce\n        shotPct\n        shots\n        takeaways\n        timeOnIce\n      }\n    }\n  }\n"]);return I=function(){return e},e}function F(){var e=Object(S.a)(["\n  query getFavoritePlayers {\n    favoritePlayers {\n      oneGame {\n        ...PlayerDetails\n      }\n      fiveGames {\n        ...PlayerDetails\n      }\n      tenGames {\n        ...PlayerDetails\n      }\n    }\n  }\n  ","\n"]);return F=function(){return e},e}function $(){var e=Object(S.a)(["\n  query getBestPlayers {\n    bestPlayers {\n      oneGame {\n        ...PlayerDetails\n      }\n      fiveGames {\n        ...PlayerDetails\n      }\n      tenGames {\n        ...PlayerDetails\n      }\n    }\n  }\n  ","\n"]);return $=function(){return e},e}function D(){var e=Object(S.a)(["\n  fragment PlayerDetails on PlayerCard {\n    firstName\n    lastName\n    primaryNumber\n    playerId\n    id\n    numOfGamesId\n    siteLink\n    stats {\n      goals\n      assists\n      points\n      plusMinus\n      penaltyMinutes\n    }\n  }\n"]);return D=function(){return e},e}var L=Object(T.a)(D()),A=Object(T.a)($(),L),H=Object(T.a)(F(),L),U=Object(T.a)(I()),M=Object(T.a)(N()),B=Object(T.a)(G()),R=Object(T.a)(C()),W=Object(T.a)(k()),q=a(359);function Y(){var e=Object(S.a)(["\n  mutation unfollowPlayer($id: String!, $followType: FollowType!) {\n    followPlayer(id: $id, followType: $followType) {\n      id\n      fullName\n    }\n  }\n"]);return Y=function(){return e},e}function _(){var e=Object(S.a)(["\n  mutation followPlayer($id: String!, $followType: FollowType!) {\n    followPlayer(id: $id, followType: $followType) {\n      id\n      fullName\n    }\n  }\n"]);return _=function(){return e},e}function Q(){var e=Object(S.a)(["\n  mutation changePassword($password: String!) {\n    changePassword(password: $password) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return Q=function(){return e},e}function z(){var e=Object(S.a)(["\n  mutation setNewPassword($token: String!, $password: String!) {\n    setNewPassword(token: $token, password: $password) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return z=function(){return e},e}function J(){var e=Object(S.a)(["\n  mutation forgotPassword($email: String!) {\n    forgotPassword(email: $email) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return J=function(){return e},e}function V(){var e=Object(S.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      value\n    }\n  }\n"]);return V=function(){return e},e}function K(){var e=Object(S.a)(["\n  mutation cancelUser($token: String!) {\n    cancelUser(token: $token) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return K=function(){return e},e}function X(){var e=Object(S.a)(["\n  mutation verifyUser($token: String!) {\n    verifyUser(token: $token) {\n      ...UserDetails\n    }\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(S.a)(["\n  mutation createUser($username: String!, $email: String!, $password: String!) {\n    createUser(username: $username, email: $email, password: $password) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function ee(){var e=Object(S.a)(["\n  fragment UserDetails on User {\n    id\n    username\n  }\n"]);return ee=function(){return e},e}var te=Object(T.a)(ee()),ae=Object(T.a)(Z(),te),ne=Object(T.a)(X()),re=Object(T.a)(K(),te),le=Object(T.a)(V()),oe=Object(T.a)(J(),te),ce=Object(T.a)(z(),te),se=Object(T.a)(Q(),te),ie=Object(T.a)(_()),ue=Object(T.a)(Y()),me=Object(r.createContext)(),pe=function(e){var t=Object(x.a)(A),a=Object(x.a)(H),n=Object(q.a)(ie,{refetchQueries:[{query:H}],update:function(e,t){var a=e.readQuery({query:M});a.me.favoritePlayers=a.me.favoritePlayers.concat(t.data.followPlayer.id),e.writeQuery({query:M,data:a})}}),r=Object(q.a)(ue,{refetchQueries:[{query:H}],update:function(e,t){var a=e.readQuery({query:M});a.me.favoritePlayers=a.me.favoritePlayers.filter(function(e){return e!==t.data.followPlayer.id}),e.writeQuery({query:M,data:a})}});return l.a.createElement(me.Provider,{value:{bestPlayers:t,favoritePlayers:a,followPlayer:n,unfollowPlayer:r}},e.children)},de=Object(r.createContext)(),fe=function(e){var t=Object(r.useState)(null),a=Object(b.a)(t,2),n=a[0],o=a[1],c=Object(r.useContext)(me).favoritePlayers,i=Object(s.b)(),u=Object(x.a)(M);Object(r.useEffect)(function(){var e=j("user");o(e)},[]);var m=function(){var e=Object(P.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o(t),a="user",n=t,document.cookie="".concat(a,"=").concat(n),u.refetch(),c.refetch();case 4:case"end":return e.stop()}var a,n},e)}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(de.Provider,{value:{user:u,token:n,setToken:o,loginUser:m,logoutUser:function(){var e;o(null),e="user",document.cookie="".concat(e,"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT"),i.resetStore()}}},e.children)},he=a(373),Ee=a(371),be=a(81),ve=Object(f.e)(function(e){var t=e.history,a=Object(r.useContext)(y).setNotification,n=Object(r.useContext)(de),o=n.user,c=n.token,s=n.logoutUser;return l.a.createElement(he.a,{inverted:!0},l.a.createElement(Ee.a,{inverted:!0,pointing:!0,secondary:!0},l.a.createElement(Ee.a.Item,{as:d.c,exact:!0,to:"/",name:"all"}),c&&l.a.createElement(Ee.a.Item,{as:d.c,to:"/favorites",name:"favorites"}),l.a.createElement(Ee.a.Item,{as:d.c,to:"/stats",name:"stats"}),l.a.createElement(Ee.a.Item,{as:d.c,to:"/standings",name:"standings"}),l.a.createElement(Ee.a.Item,{as:d.c,to:"/about",name:"about"}),c?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ee.a.Menu,{position:"right"},o.data.me&&l.a.createElement(be.a,{as:d.c,to:"/profile",circular:!0,style:{margin:"auto auto"},size:"medium",content:o.data.me.username})),l.a.createElement(Ee.a.Menu,null,l.a.createElement(Ee.a.Item,{name:"log out",onClick:function(){s(),a("positive","You have been logged out."),t.push("/")}}))):l.a.createElement(l.a.Fragment,null,l.a.createElement(Ee.a.Menu,{position:"right"},l.a.createElement(Ee.a.Item,{as:d.c,to:"/login",name:"log in"})),l.a.createElement(Ee.a.Menu,null,l.a.createElement(Ee.a.Item,{as:d.c,to:"/signup",name:"sign up"})))))}),ye=a(360),ge=a(362),Oe=a(374),we=a(368),Pe=a(199),xe=a(47),je=function(e){var t,a=e.player,n=Object(r.useContext)(y),o=n.setNotification,c=n.handleException,s=Object(r.useContext)(me),i=s.followPlayer,u=s.unfollowPlayer,m=Object(r.useContext)(de),p=m.token,f=m.user,h=function(){var e=Object(P.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i({variables:{id:a.id,followType:"FOLLOW"}});case 3:(t=e.sent).data.followPlayer&&o("positive","You started following ".concat(t.data.followPlayer.fullName,".")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(P.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({variables:{id:a.id,followType:"UNFOLLOW"}});case 3:(t=e.sent).data.unfollowPlayer&&o("positive","You unfollowed ".concat(t.data.unfollowPlayer.fullName,".")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),b=function(e,t){return e.some(function(e){return e===t})};return l.a.createElement(we.a,null,l.a.createElement(Pe.a,{src:(t=a.playerId,"https://nhl.bamcontent.com/images/headshots/current/168x168/".concat(t,".jpg")),wrapped:!0,ui:!1}),l.a.createElement(we.a.Content,null,l.a.createElement(we.a.Header,{as:d.b,to:"/players/"+a.siteLink},a.firstName," ",a.lastName),l.a.createElement(we.a.Meta,null,"#",a.primaryNumber),l.a.createElement(we.a.Description,null,"G: ",a.stats.goals," | A: ",a.stats.assists," | P:"," ",a.stats.points," | PM: ",a.stats.penaltyMinutes," | +/-:"," ",a.stats.plusMinus),l.a.createElement("div",null,p&&f.data.me&&l.a.createElement(l.a.Fragment,null,!b(f.data.me.favoritePlayers,a.id)&&l.a.createElement(xe.a,{name:"thumbs up",onClick:h}),b(f.data.me.favoritePlayers,a.id)&&l.a.createElement(xe.a,{name:"thumbs down outline",onClick:E})))))},Se=function(e){var t=e.query,a=Object(r.useContext)(y).setNotification;if(t.loading)return l.a.createElement(ye.a,{active:!0,inline:"centered"});var n=t.data.bestPlayers||t.data.favoritePlayers,o=n.oneGame,c=n.fiveGames,s=n.tenGames,i=function(e){return e.length?l.a.createElement(Oe.a,{centered:!0,columns:5},e.map(function(e){return l.a.createElement(Oe.a.Column,{key:e.playerId},l.a.createElement(je,{key:e.playerId,player:e,setNotification:a}))})):l.a.createElement("div",null,"No results")};return l.a.createElement(h.a,null,l.a.createElement(E.a,null,"Last game"),i(o),l.a.createElement(ge.a,null),l.a.createElement(E.a,null,"Last 5 games"),i(c),l.a.createElement(ge.a,null),l.a.createElement(E.a,null,"Last 10 games"),i(s))},Te=a(370),ke=function(e){var t=e.notification;if(!t)return null;var a={positive:{positive:!0},negative:{negative:!0},info:{info:!0},warning:{warning:!0}}[t.type];return l.a.createElement(Te.a,a,l.a.createElement(Te.a.Content,null,"".concat(t.message)))},Ce=a(364),Ge=a(352),Ne=function(e){var t=e.history,a=Object(r.useContext)(y),n=a.setNotification,o=a.handleException,c=Object(r.useContext)(de).loginUser,s=v("username","text"),i=Object(b.a)(s,2),u=i[0],m=i[1],p=v("password","password"),f=Object(b.a)(p,2),h=f[0],E=f[1],g=Object(q.a)(le),O=function(){var e=Object(P.a)(w.a.mark(function e(){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g({variables:{username:u.value,password:h.value}});case 3:a=e.sent,n("positive","".concat(u.value," successfully logged in.")),m(),E(),c(a.data.login.value),t.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o(e.t0),E();case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ce.a,{onSubmit:O},l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Username"),l.a.createElement("input",Object.assign({placeholder:"username or email"},u))),l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Password"),l.a.createElement("input",Object.assign({placeholder:"password"},h))),l.a.createElement(Ge.a,{type:"submit",primary:!0},"Log in")),l.a.createElement(d.b,{to:"/forgot-password",name:"I forgot my password"},"I forgot my password"))},Ie=function(e){var t=e.history,a=Object(r.useContext)(y),n=a.setNotification,o=a.handleException,c=v("username","text"),s=Object(b.a)(c,2),i=s[0],u=s[1],m=v("password","text"),p=Object(b.a)(m,2),d=p[0],f=p[1],h=v("password","password"),E=Object(b.a)(h,2),g=E[0],O=E[1],x=v("confirmpassword","password"),j=Object(b.a)(x,2),S=j[0],T=j[1],k=Object(q.a)(ae),C=!S.value||g.value===S.value,G=function(){var e=Object(P.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=5;break}return n("negative","The passwords do not match!"),O(),T(),e.abrupt("return");case 5:return e.prev=5,e.next=8,k({variables:{username:i.value,email:d.value,password:g.value}});case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),o(e.t0),e.abrupt("return");case 14:n("positive","An account for ".concat(i.value," has been created. Before logging in, you must activate your account by clicking the activation link sent to ").concat(d.value,".")),u(),f(),O(),T(),t.push("/");case 20:case"end":return e.stop()}},e,null,[[5,10]])}));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ce.a,{onSubmit:G},l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Username"),l.a.createElement("input",Object.assign({placeholder:"username"},i))),l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Email"),l.a.createElement("input",Object.assign({placeholder:"email"},d))),l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Password"),l.a.createElement("input",Object.assign({placeholder:"password"},g))),l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Confirm password"),l.a.createElement("input",Object.assign({placeholder:"password"},S)),!C&&l.a.createElement("span",{style:{color:"red"}},"Passwords do not match!"),l.a.createElement("span",null)),l.a.createElement(Ge.a,{type:"submit",primary:!0},"Sign Up")))},Fe=function(e){var t=e.history,a=e.token,n=Object(r.useContext)(y),o=n.setNotification,c=n.handleException,s=Object(q.a)(ne,{variables:{token:a}}),i=Object(q.a)(re,{variables:{token:a}}),u=function(){var e=Object(P.a)(w.a.mark(function e(){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s();case 3:o("positive","Your account has been activated. You may now log in."),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),a=e.t0.message,o("negative","".concat(a));case 10:t.push("/");case 11:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(P.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:o("warning","Your account has been cancelled and all the information has been deleted from the database."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0);case 9:t.push("/");case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}();return l.a.createElement(he.a,null,l.a.createElement(E.a,null,"Activate your user account"),l.a.createElement(Ge.a,{primary:!0,onClick:u},"OK"),l.a.createElement(Ge.a,{onClick:m},"Cancel"))},$e=function(){return l.a.createElement("p",null,"Footer")},De=function(e){var t=e.history,a=Object(r.useContext)(y),n=a.setNotification,o=a.handleException,c=v("email","text"),s=Object(b.a)(c,2),i=s[0],u=s[1],m=Object(q.a)(oe),p=function(){var e=Object(P.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m({variables:{email:i.value}});case 3:n("positive","The password reset link has been set to ".concat(i.value,". Please click the link to change your password.")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o(e.t0);case 9:u(),t.push("/");case 11:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ce.a,{onSubmit:p},l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Email"),l.a.createElement("input",Object.assign({placeholder:"email"},i))),l.a.createElement(Ge.a,{type:"submit",primary:!0},"Submit")))},Le=function(e){var t=e.history,a=e.token,n=Object(r.useContext)(y),o=n.setNotification,c=n.handleException,s=v("password","password"),i=Object(b.a)(s,2),u=i[0],m=i[1],p=v("confirmpassword","password"),d=Object(b.a)(p,2),f=d[0],h=d[1],E=Object(q.a)(ce),g=!f.value||u.value===f.value,O=function(){var e=Object(P.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=5;break}return o("negative","The passwords do not match!"),m(),h(),e.abrupt("return");case 5:return e.prev=5,e.next=8,E({variables:{token:a,password:u.value}});case 8:o("positive","Your password has been changed. You may now log in with the new password."),t.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),c(e.t0);case 15:m(),h();case 17:case"end":return e.stop()}},e,null,[[5,12]])}));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ce.a,{onSubmit:O},l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Password"),l.a.createElement("input",Object.assign({placeholder:"password"},u))),l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Confirm password"),l.a.createElement("input",Object.assign({placeholder:"password"},f)),!g&&l.a.createElement("span",{style:{color:"red"}},"Passwords do not match!")),l.a.createElement(Ge.a,{type:"submit",primary:!0},"Submit")))},Ae=a(365),He=function(){var e=Object(r.useContext)(y),t=e.setNotification,a=e.handleException,n=Object(r.useContext)(de).user,o=Object(r.useState)(!1),c=Object(b.a)(o,2),s=c[0],i=c[1],u=v("password","password"),m=Object(b.a)(u,2),p=m[0],d=m[1],f=v("confirmpassword","password"),h=Object(b.a)(f,2),E=h[0],g=h[1],O=Object(q.a)(se),x=!E.value||p.value===E.value,j=function(){var e=Object(P.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=5;break}return t("negative","The passwords do not match!"),d(),g(),e.abrupt("return");case 5:return e.prev=5,e.next=8,O({variables:{password:p.value}});case 8:t("positive","Your password has been changed."),i(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),a(e.t0);case 15:d(),g();case 17:case"end":return e.stop()}},e,null,[[5,12]])}));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ae.a,{definition:!0},l.a.createElement(Ae.a.Body,null,l.a.createElement(Ae.a.Row,null,l.a.createElement(Ae.a.Cell,null,"Username"),l.a.createElement(Ae.a.Cell,null,n.data.me&&n.data.me.username)),l.a.createElement(Ae.a.Row,null,l.a.createElement(Ae.a.Cell,null,"Email"),l.a.createElement(Ae.a.Cell,null,n.data.me&&n.data.me.email)),l.a.createElement(Ae.a.Row,null,l.a.createElement(Ae.a.Cell,null,"Password"),l.a.createElement(Ae.a.Cell,null,l.a.createElement(Ge.a,{onClick:function(){return i(!0)}},"Change password"))))),s&&l.a.createElement(Ce.a,{onSubmit:j},l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"New password"),l.a.createElement("input",p)),l.a.createElement(Ce.a.Field,null,l.a.createElement("label",null,"Confirm new password"),l.a.createElement("input",E),!x&&l.a.createElement("span",{style:{color:"red"}},"Passwords do not match!")),l.a.createElement(Ge.a,{primary:!0,type:"submit"},"Submit"),l.a.createElement(Ge.a,{onClick:function(){d(),g(),i(!1)}},"Cancel")))},Ue=a(363),Me=a(108),Be=a.n(Me),Re=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)([]),c=Object(b.a)(o,2),i=c[0],u=c[1],m=Object(r.useContext)(de).user,p=Object(r.useContext)(me).followPlayer,d=Object(r.useContext)(y),f=d.setNotification,h=d.handleException,v=Object(s.b)(),g=function(){var e=Object(P.a)(w.a.mark(function e(t,a){var r,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.value){e.next=3;break}return e.abrupt("return",u([]));case 3:return n(!0),e.next=6,v.query({query:B,variables:{searchString:r}});case 6:l=e.sent,n(!1),u(l.data.findByName);case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(P.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p({variables:{id:t.id,followType:"FOLLOW"}});case 3:(a=e.sent).data.followPlayer&&f("positive","You started following ".concat(a.data.followPlayer.fullName,".")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(E.a,null,"Find Players"),l.a.createElement(Ue.a,{placeholder:"Search...",onChange:Be.a.debounce(g,500)}),a&&l.a.createElement(ye.a,{active:!0,inline:"centered"}),!a&&i.length>0&&l.a.createElement(Ae.a,{celled:!0},l.a.createElement(Ae.a.Header,null,l.a.createElement(Ae.a.Row,null,l.a.createElement(Ae.a.HeaderCell,null,"Name"),l.a.createElement(Ae.a.HeaderCell,null,"#"),l.a.createElement(Ae.a.HeaderCell,null,"Nationality"),l.a.createElement(Ae.a.HeaderCell,null))),l.a.createElement(Ae.a.Body,null,i.map(function(e){return l.a.createElement(Ae.a.Row,{key:e.playerId},l.a.createElement(Ae.a.Cell,null,e.fullName),l.a.createElement(Ae.a.Cell,null,e.primaryNumber),l.a.createElement(Ae.a.Cell,null,e.nationality),l.a.createElement(Ae.a.Cell,null,l.a.createElement(Ge.a,{primary:!m.data.me.favoritePlayers.find(function(t){return t===e.id}),disabled:!!m.data.me.favoritePlayers.find(function(t){return t===e.id}),size:"tiny",content:"Follow",onClick:function(){return O(e)}})))}))))},We=a(75),qe=[{headerText:"Player",prop:"fullName",sortString:"PLAYER"},{headerText:"Team",prop:"team",sortString:"TEAM"},{headerText:"POS",prop:"position",sortString:"POSITION"},{headerText:"GP",prop:"gamesPlayed",sortString:"GP"},{headerText:"G",prop:"goals",sortString:"GOALS"},{headerText:"A",prop:"assists",sortString:"ASSISTS"},{headerText:"P",prop:"points",sortString:"POINTS"},{headerText:"+/-",prop:"plusMinus",sortString:"PLUSMINUS"},{headerText:"PM",prop:"penaltyMinutes",sortString:"PM"},{headerText:"P/G",prop:"pointsPerGame",sortString:"POINTS_PER_GAME"},{headerText:"GWG",prop:"gameWinningGoals",sortString:"GWG"},{headerText:"OTG",prop:"overTimeGoals",sortString:"OTG"},{headerText:"PPG",prop:"powerPlayGoals",sortString:"PPG"},{headerText:"PPP",prop:"powerPlayPoints",sortString:"PPP"},{headerText:"SHG",prop:"shortHandedGoals",sortString:"SHG"},{headerText:"SHP",prop:"shortHandedPoints",sortString:"SHP"},{headerText:"Shots",prop:"shots",sortString:"SHOTS"}],Ye=function(){var e=Object(r.useState)({offset:0,sortBy:"POINTS",sortDir:"DESC"}),t=Object(b.a)(e,2),a=t[0],o=t[1],c=Object(x.a)(R,{variables:a}),s=c.data,i=c.loading,u=c.fetchMore;if(i)return l.a.createElement(ye.a,{active:!0,inline:"centered"});var m=s.GetCumulativeStats;return l.a.createElement("div",null,l.a.createElement(E.a,null,"Stats"),l.a.createElement(Ae.a,{celled:!0},l.a.createElement(Ae.a.Header,null,l.a.createElement(Ae.a.Row,null,qe.map(function(e){return l.a.createElement(Ae.a.HeaderCell,{key:e.headerText,onClick:function(){var t;"PLAYER"!==(t=e.sortString)&&"TEAM"!==t&&"POSITION"!==t&&(t===a.sortBy&&"DESC"===a.sortDir?o({offset:0,sortBy:t,sortDir:"ASC"}):o({offset:0,sortBy:t,sortDir:"DESC"}))}},e.headerText)}))),l.a.createElement(Ae.a.Body,null,m.map(function(e){return l.a.createElement(Ae.a.Row,{key:e.fullName},qe.map(function(t){return l.a.createElement(Ae.a.Cell,{key:t.prop},e[t.prop])}))}))),l.a.createElement(Ge.a,{onClick:function(){u({variables:{offset:m.length},updateQuery:function(e,t){var a=t.fetchMoreResult;return a?Object(n.a)({},e,{GetCumulativeStats:[].concat(Object(We.a)(e.GetCumulativeStats),Object(We.a)(a.GetCumulativeStats))}):e}})}},"Load more"))},_e=a(136),Qe=a(366),ze=[{key:"LEAGUE",text:"League",value:"LEAGUE"},{key:"CONFERENCE",text:"Conference",value:"CONFERENCE"},{key:"DIVISION",text:"Division",value:"DIVISION"}],Je=function(e){var t=e.setStandingsType;return l.a.createElement(Qe.a,{placeholder:"Select standings",fluid:!0,selection:!0,options:ze,onChange:function(e){var a=ze.find(function(t){return t.text===e.target.textContent});t(a.value)}})},Ve=[{headerText:"Team",prop:"teamName"},{headerText:"GP",prop:"gamesPlayed"},{headerText:"W",prop:"wins"},{headerText:"L",prop:"losses"},{headerText:"T",prop:"ties"},{headerText:"OT",prop:"otLosses"},{headerText:"P",prop:"points"},{headerText:"ROW",prop:"regPlusOtWins"},{headerText:"P%",prop:"pointPct"},{headerText:"GF",prop:"goalsFor"},{headerText:"GA",prop:"goalsAgainst"},{headerText:"S/O Wins",prop:"shootoutGamesWon"},{headerText:"GF/GP",prop:"goalsForPerGame"},{headerText:"GA/GP",prop:"goalsAgainstPerGame"},{headerText:"PP%",prop:"ppPct"},{headerText:"PK%",prop:"pkPct"},{headerText:"Shots/GP",prop:"shotsForPerGame"},{headerText:"SA/GP",prop:"shotsAgainstPerGame"},{headerText:"FOW%",prop:"faceOffWinPct"}],Ke=function(e){var t=e.standings,a=e.title;return l.a.createElement("div",null,l.a.createElement(E.a,null,a||"League"),l.a.createElement(Ae.a,{celled:!0},l.a.createElement(Ae.a.Header,null,l.a.createElement(Ae.a.Row,null,Ve.map(function(e){return l.a.createElement(Ae.a.HeaderCell,{key:e.headerText},e.headerText)}))),l.a.createElement(Ae.a.Body,null,t.map(function(e){return l.a.createElement(Ae.a.Row,{key:e.teamName},Ve.map(function(t){return l.a.createElement(Ae.a.Cell,{key:t.prop},e[t.prop])}))}))))},Xe=function(e,t){return Be.a.groupBy(e,function(e){return e[t].name})},Ze=function(){var e=Object(r.useState)("LEAGUE"),t=Object(b.a)(e,2),a=t[0],n=t[1],o=Object(x.a)(W),c=o.loading,s=o.data;if(c)return l.a.createElement(ye.a,{active:!0,inline:"centered"});var i="CONFERENCE"===a?Xe(s.Standings,"conference"):"DIVISION"===a?Xe(s.Standings,"division"):s.Standings,u="LEAGUE"===a?function(e){return Object(We.a)(e.map(function(e){return e.__typename,e.division,e.conference,Object(_e.a)(e,["__typename","division","conference"])}))}(i):function(e){return Object.keys(e).forEach(function(t){e[t]=Object(We.a)(e[t].map(function(e){return e.__typename,e.division,e.conference,Object(_e.a)(e,["__typename","division","conference"])}))}),e}(i);return l.a.createElement("div",null,l.a.createElement(E.a,null,"Standings"),l.a.createElement(Je,{setStandingsType:n}),"LEAGUE"===a?l.a.createElement(Ke,{standings:u}):Object.keys(i).map(function(e){return l.a.createElement(Ke,{key:e,standings:u[e],title:e})}))},et=a(367),tt={R:"Right Wing",L:"Left Wing",C:"Center",D:"Defenceman"},at=[{headerText:"Date",prop:"gameDate"},{headerText:"G",prop:"goals"},{headerText:"A",prop:"assists"},{headerText:"P",prop:"points"},{headerText:"+/-",prop:"plusMinus"},{headerText:"PM",prop:"penaltyMinutes"},{headerText:"PPG",prop:"powerPlayGoals"},{headerText:"PPA",prop:"powerPlayAssists"},{headerText:"SHG",prop:"shortHandedGoals"},{headerText:"SHA",prop:"shortHandedAssists"},{headerText:"TON",prop:"timeOnIce"},{headerText:"PPTON",prop:"powerPlayTimeOnIce"},{headerText:"SHTON",prop:"shortHandedTimeOnIce"},{headerText:"Shots",prop:"shots"},{headerText:"Shot%",prop:"shotPct"},{headerText:"Blocked",prop:"blocked"},{headerText:"Hits",prop:"hits"},{headerText:"Giveaways",prop:"giveaways"},{headerText:"Takeaways",prop:"takeaways"}],nt=function(e){var t=e.siteLink,a=Object(x.a)(U,{variables:{siteLink:t}}),n=a.data;if(a.loading)return l.a.createElement(ye.a,{active:!0,inline:"centered"});var r,o=n.findPlayer;return l.a.createElement("div",null,l.a.createElement(Pe.a,{src:(r=n.findPlayer.playerId,"https://nhl.bamcontent.com/images/actionshots/".concat(r,".jpg")),fluid:!0}),l.a.createElement(E.a,{size:"huge"},o.fullName),l.a.createElement(et.a,null,l.a.createElement(et.a.Item,null,l.a.createElement("strong",null,"Birthdate:")," ",o.birthDate),l.a.createElement(et.a.Item,null,l.a.createElement("strong",null,"Birth City:")," ",o.birthCity),o.birthStateProvince&&l.a.createElement(et.a.Item,null,l.a.createElement("strong",null,"Birth State:")," ",o.birthStateProvince),l.a.createElement(et.a.Item,null,l.a.createElement("strong",null,"Nationality:")," ",o.nationality),l.a.createElement(et.a.Item,null,l.a.createElement("strong",null,"Team:")," ",o.currentTeam.name),l.a.createElement(et.a.Item,null,l.a.createElement("strong",null,"Position:")," ",tt[o.primaryPosition])),l.a.createElement(ge.a,null),l.a.createElement(E.a,{size:"huge"},"Performance Game-by-Game"),l.a.createElement(Ae.a,{celled:!0},l.a.createElement(Ae.a.Header,null,l.a.createElement(Ae.a.Row,null,at.map(function(e){return l.a.createElement(Ae.a.HeaderCell,{key:e.headerText},e.headerText)}))),l.a.createElement(Ae.a.Body,null,o.boxscores.map(function(e){return l.a.createElement(Ae.a.Row,{key:e.gameDate},at.map(function(t){return l.a.createElement(Ae.a.Cell,{key:t.prop},e[t.prop])}))}))))},rt=function(){var e=Object(r.useContext)(y).notification,t=Object(r.useContext)(de).token,a=Object(r.useContext)(me),n=a.bestPlayers,o=a.favoritePlayers;return l.a.createElement(h.a,null,l.a.createElement(d.a,null,l.a.createElement(E.a,{size:"huge"},"Player Follower"),l.a.createElement(ve,null),l.a.createElement(ke,{notification:e}),l.a.createElement(f.a,{exact:!0,path:"/",render:function(){return l.a.createElement(Se,{query:n})}}),l.a.createElement(f.a,{path:"/stats",render:function(){return l.a.createElement(Ye,null)}}),l.a.createElement(f.a,{path:"/standings",render:function(){return l.a.createElement(Ze,null)}}),l.a.createElement(f.a,{path:"/about",render:function(){return l.a.createElement("div",null,"About")}}),l.a.createElement(f.a,{path:"/players/:siteLink",render:function(e){var t=e.match;return l.a.createElement(nt,{siteLink:t.params.siteLink})}}),t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{path:"/favorites",render:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{as:d.b,to:"/find-players"},"Find players"),l.a.createElement(Se,{query:o}))}}),l.a.createElement(f.a,{path:"/profile",render:function(){return l.a.createElement(He,null)}}),l.a.createElement(f.a,{path:"/find-players",render:function(){return l.a.createElement(Re,null)}})),!t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{path:"/signup",render:function(e){var t=e.history;return l.a.createElement(Ie,{history:t})}}),l.a.createElement(f.a,{path:"/login",render:function(e){var t=e.history;return l.a.createElement(Ne,{history:t})}}),l.a.createElement(f.a,{exact:!0,path:"/forgot-password",render:function(e){var t=e.history;return l.a.createElement(De,{history:t})}}),l.a.createElement(f.a,{path:"/forgot-password/:token",render:function(e){var t=e.history,a=e.match;return l.a.createElement(Le,{history:t,token:a.params.token})}}),l.a.createElement(f.a,{path:"/confirmation/:token",render:function(e){var t=e.history,a=e.match;return l.a.createElement(Fe,{history:t,token:a.params.token})}})),l.a.createElement($e,null)))},lt=Object(u.b)({uri:"/graphql"}),ot=Object(p.a)(function(e,t){var a=t.headers,r=j("user");return{headers:Object(n.a)({},a,{authorization:r?"bearer ".concat(r):null})}}),ct=new m.a({dataIdFromObject:function(e){switch(e.__typename){case"Player":return e.numOfGamesId?e.numOfGamesId+e.id:e.id;default:return Object(m.b)(e)}}}),st=new i.b({link:ot.concat(lt),cache:ct});c.a.render(l.a.createElement(s.a,{client:st},l.a.createElement(g,null,l.a.createElement(pe,null,l.a.createElement(fe,null,l.a.createElement(rt,null))))),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.3659160f.chunk.js.map